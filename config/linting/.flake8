[flake8]
# Maximum line length (matches black configuration)
max-line-length = 88

# Ignore common false positives and formatting conflicts
extend-ignore = 
    # Whitespace and formatting (handled by black)
    E203,  # whitespace before ':'
    E501,  # line too long
    E226,  # missing whitespace around arithmetic operator
    
    # Line break style (conflicts with each other)
    W503,  # line break before binary operator
    W504,  # line break after binary operator
    
    # Import related (sometimes necessary)
    E402,  # module level import not at top of file
    F401,  # imported but unused
    F403,  # 'from module import *' used
    F405,  # name may be undefined from star imports
    
    # Exception handling (sometimes necessary)
    E722,  # do not use bare except
    
    # Complexity (sometimes necessary for algorithms)
    C901,  # too complex
    
    # Variable naming (common in scientific computing)
    E741,  # ambiguous variable name (l, O, I)
    
    # Python 2 legacy (not relevant)
    W601,  # .has_key() is deprecated
    W602,  # deprecated form of raising exception

# Per-file ignores for specific patterns
per-file-ignores = 
    # Init files can have unused imports
    __init__.py:F401,F403,F405
    
    # Test files are more lenient
    test_*.py:F401,F403,F405,E501,C901
    tests/*.py:F401,F403,F405,E501,C901
    
    # Scripts and examples are more lenient
    scripts/*.py:E402,F401,E501,C901
    examples/*.py:E402,F401,E501,C901
    docs/*.py:E402,F401,E501,C901
    
    # Scientific computing files can be complex
    src/specialized_tools.py:E501,C901,E402
    src/*/models.py:E501,C901
    src/*/config.py:E501
    src/processing/*.py:E501,C901
    src/simulation/*.py:E501,C901
    
    # Demo and utility scripts
    *demo*.py:E501,C901,E402,F401
    *test_integration*.py:E501,C901,E402,F401
    *benchmark*.py:E501,C901,E402,F401

# Exclude directories
exclude = 
    .git,
    __pycache__,
    build,
    dist,
    .tox,
    .eggs,
    venv,
    .venv,
    env,
    .env,
    .mypy_cache,
    .pytest_cache,
    node_modules,
    htmlcov

# Maximum complexity (increased for scientific code)
max-complexity = 15

# Maximum line length for comments and docstrings
max-doc-length = 100

# Enable specific warnings that are important
select = 
    # Pyflakes (F)
    F,
    # pycodestyle errors (E)
    E,
    # pycodestyle warnings (W) 
    W,
    # McCabe complexity (C)
    C
